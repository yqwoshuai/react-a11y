var e=Object.assign;import{r as t,a}from"./vendor.6ad4fa42.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const l=new URL(e,location),n=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,s)=>{const o=new URL(e,l);if(self[t].moduleMap[o])return a(self[t].moduleMap[o]);const c=new Blob([`import * as m from '${o}';`,`${t}.moduleMap['${o}']=m;`],{type:"text/javascript"}),r=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(c),onerror(){s(new Error(`Failed to import: ${e}`)),n(r)},onload(){a(self[t].moduleMap[o]),n(r)}});document.head.appendChild(r)})),self[t].moduleMap={}}}("/assets/");var l=t.memo((function(e){return t.createElement("button",{type:"button",className:"btn toggle-btn","aria-pressed":e.isPressed,onClick:()=>e.setNowTab(e.label)},e.name)}));function n(e){const[a,l]=t.useState(!1),[n,s]=t.useState(""),o=t.useRef(null),c=t.useRef(null),{name:r,id:m,completed:i=!1}=e.item,u=t.createElement("form",{className:"stack-small",onSubmit:t=>{t.preventDefault(),n.trim()&&(e.editTask(m,n),s(""),l(!1))}},t.createElement("div",{className:"from-group"},t.createElement("label",{className:"todo-label",htmlFor:m},"请输入",r,"的新名称"),t.createElement("input",{id:m,className:"todo-text",type:"text",value:n,onChange:e=>{s(e.target.value)},ref:o})),t.createElement("div",{className:"btn-group"},t.createElement("button",{type:"button",className:"btn todo-cancel",onClick:()=>{l(!1)}},"取消",t.createElement("span",{className:"visually-hidden"},r," 任务的重命名")),t.createElement("button",{type:"submit",className:"btn btn__primary todo-edit"},"保存",t.createElement("span",{className:"visually-hidden"},r," 任务的新名称")))),d=t.createElement("div",{className:"stack-small"},t.createElement("div",{className:"c-cb"},t.createElement("input",{id:m,type:"checkbox",defaultChecked:i,onChange:()=>e.toggleTaskCompleted(m)}),t.createElement("label",{className:"todo-label",htmlFor:m},r)),t.createElement("div",{className:"btn-group"},t.createElement("button",{type:"button",className:"btn",onClick:()=>l(!0),ref:c},"编辑 ",t.createElement("span",{className:"visually-hidden"},r)),t.createElement("button",{type:"button",className:"btn btn__danger",onClick:()=>e.deleteTask(m)},"删除 ",t.createElement("span",{className:"visually-hidden"},r)))),p=function(e){const a=t.useRef();return t.useEffect((()=>{a.current=e})),a.current}(a);return t.useEffect((()=>{!p&&a&&o.current.focus(),p&&!a&&c.current.focus()}),[a,p]),0===e.nowTab||!i&&1===e.nowTab||i&&2===e.nowTab?t.createElement("li",{className:"todo"},a?u:d):null}function s(e){const[a,l]=t.useState("");return t.createElement("form",{onSubmit:t=>{t.preventDefault(),a.trim()&&(l(""),e.addTask(a))}},t.createElement("h2",{className:"label-wrapper"},t.createElement("label",{className:"label__lg",htmlFor:"new-todo-input"},"请输入代办事项内容")),t.createElement("input",{type:"text",id:"new-todo-input",className:"input input__lg",name:"text",autoComplete:"off",value:a,onChange:e=>{l(e.target.value)}}),t.createElement("button",{type:"submit",className:"btn btn__primary btn__lg"},"添加"))}const o=[{name:"全部任务",label:0},{name:"进行中",label:1},{name:"已完成",label:2}];function c(a){const[c,r]=t.useState(a.taskList),[m,i]=t.useState(0),u=t.useRef(null),d=e=>{window.localStorage.setItem("reactA11yTaskList",JSON.stringify(e)),r(e)},p=t=>{const a=c.map((a=>a.id===t?e(e({},a),{completed:!a.completed}):a));d(a)},b=e=>{const t=c.filter((t=>t.id!==e));d(t),u.current.focus()},f=(t,a)=>{const l=c.map((l=>l.id===t?e(e({},l),{name:a}):l));d(l)};return t.createElement("div",{className:"todoapp stack-large"},t.createElement(s,{addTask:e=>{const t={id:Date.now(),name:e,completed:!1},a=[...c,t];d(a)}}),t.createElement("div",{className:"filters btn-group stack-exception"},o.map(((e,a)=>t.createElement(l,{key:a,name:e.name,label:e.label,isPressed:a===m,setNowTab:i})))),t.createElement("h2",{id:"list-heading",tabIndex:"-1",ref:u},"剩余",c.filter((e=>!e.completed)).length,"条任务未完成"),t.createElement("ul",{role:"list",className:"todo-list stack-large stack-exception","aria-labelledby":"list-heading"},c.map((e=>t.createElement(n,{key:e.id,item:e,nowTab:m,editTask:f,deleteTask:b,toggleTaskCompleted:p})))))}let r=[];window.localStorage.getItem("reactA11yTaskList")&&(r=JSON.parse(window.localStorage.getItem("reactA11yTaskList"))),a.render(t.createElement(t.StrictMode,null,t.createElement(c,{taskList:r})),document.getElementById("root"));
